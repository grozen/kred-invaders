- image_files = Dir.glob("source/images/*.png").map { |path| File.join("images", File.split(path).last) }
- image_files.map! { |x| %Q("#{x}") }

- important_scripts = ['components/player_common'] # Scripts that need to load before others
- scripts = %w(player player_body player_cannon player_shot alien score).map { |c| "components/#{c}" }
- scripts += %w(playfield).map { |s| "scenes/#{s}" }
- scripts += %w(game)
- async_script_files = scripts.map { |name| %Q("javascripts/#{name}.js") }
- async_important_script_files = important_scripts.map { |name| %Q("javascripts/#{name}.js") }

:javascript
  var imageFiles = [#{image_files.join(', ')}]
  var imageFileAssetHashNameMap = { #{ image_files.map{ |file| file_name_info = file.match(/(.+\/([^\/]+))(\..+)/); "#{file_name_info[2]}: #{file_name_info[1]}#{file_name_info[3]}" }.join(', ') } }
  var assets = { images: imageFiles }
  var asyncScripts = [#{async_script_files.join(', ')}]
  var asyncImportantScripts = [#{async_important_script_files.join(', ')}]
